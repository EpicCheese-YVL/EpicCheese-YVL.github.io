<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platform Adventure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #1a202c;
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .header {
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: white;
        }

        .header p {
            font-size: 1rem;
            color: #a0aec0;
        }

        .canvas-wrapper {
            position: relative;
            display: inline-block;
        }

        #gameCanvas {
            border: 4px solid #4a5568;
            border-radius: 0.5rem;
            background-color: #1a202c;
            display: block;
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 0, 0, 0.75);
            border-radius: 0.5rem;
        }

        .overlay.hidden {
            display: none;
        }

        .overlay-content {
            text-align: center;
        }

        .won-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: #fbbf24;
            margin-bottom: 1rem;
        }

        .won-text {
            font-size: 1.125rem;
            color: white;
            margin-bottom: 1.5rem;
        }

        .game-button {
            padding: 0.75rem 1.5rem;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .game-button:hover {
            background-color: #2563eb;
        }

        .game-button:active {
            transform: scale(0.98);
        }

        @media (max-width: 900px) {
            body {
                padding: 1rem;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .header p {
                font-size: 0.875rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>Platform Adventure</h1>
            <p>Use Arrow Keys or WASD to move and jump. Reach the golden goal!</p>
        </div>
        
        <div class="canvas-wrapper">
            <canvas id="gameCanvas" width="800" height="600"></canvas>
            
            <div id="wonScreen" class="overlay hidden">
                <div class="overlay-content">
                    <h2 class="won-title">You Won!</h2>
                    <p class="won-text">Congratulations! You completed all levels!</p>
                    <button id="playAgainBtn" class="game-button">Play Again</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Game constants
        const GRAVITY = 0.6;
        const JUMP_STRENGTH = -12;
        const MOVE_SPEED = 5;
        const CANVAS_WIDTH = 800;
        const CANVAS_HEIGHT = 600;

        // Game state
        let gameState = 'playing'; // 'playing' or 'won'
        let level = 1;
        let keysPressed = new Set();
        let animationFrameId = null;

        // Player
        let player = {
            x: 50,
            y: 500,
            width: 30,
            height: 30,
            velocityX: 0,
            velocityY: 0,
            isJumping: false,
            color: '#3b82f6'
        };

        // Level data
        let platforms = [];
        let goal = { x: 0, y: 0, width: 40, height: 40 };

        // Canvas and context
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const wonScreen = document.getElementById('wonScreen');
        const playAgainBtn = document.getElementById('playAgainBtn');

        // Level definitions
        function getLevelData(levelNum) {
            const levels = [
                // Level 1
                {
                    platforms: [
                        { x: 0, y: 550, width: 800, height: 50, color: '#4a5568' },
                        { x: 150, y: 450, width: 120, height: 20, color: '#718096' },
                        { x: 350, y: 380, width: 120, height: 20, color: '#718096' },
                        { x: 550, y: 310, width: 120, height: 20, color: '#718096' },
                        { x: 400, y: 240, width: 150, height: 20, color: '#718096' },
                    ],
                    playerStart: { x: 50, y: 500 },
                    goal: { x: 450, y: 180, width: 40, height: 40 }
                },
                // Level 2
                {
                    platforms: [
                        { x: 0, y: 550, width: 200, height: 50, color: '#4a5568' },
                        { x: 300, y: 550, width: 500, height: 50, color: '#4a5568' },
                        { x: 100, y: 450, width: 100, height: 20, color: '#718096' },
                        { x: 300, y: 380, width: 100, height: 20, color: '#718096' },
                        { x: 500, y: 310, width: 100, height: 20, color: '#718096' },
                        { x: 350, y: 240, width: 100, height: 20, color: '#718096' },
                        { x: 150, y: 170, width: 120, height: 20, color: '#718096' },
                    ],
                    playerStart: { x: 50, y: 500 },
                    goal: { x: 170, y: 110, width: 40, height: 40 }
                },
                // Level 3
                {
                    platforms: [
                        { x: 0, y: 550, width: 150, height: 50, color: '#4a5568' },
                        { x: 250, y: 550, width: 150, height: 50, color: '#4a5568' },
                        { x: 500, y: 550, width: 150, height: 50, color: '#4a5568' },
                        { x: 700, y: 550, width: 100, height: 50, color: '#4a5568' },
                        { x: 150, y: 450, width: 80, height: 20, color: '#718096' },
                        { x: 400, y: 380, width: 80, height: 20, color: '#718096' },
                        { x: 250, y: 310, width: 80, height: 20, color: '#718096' },
                        { x: 500, y: 240, width: 80, height: 20, color: '#718096' },
                        { x: 650, y: 170, width: 140, height: 20, color: '#718096' },
                    ],
                    playerStart: { x: 50, y: 500 },
                    goal: { x: 700, y: 110, width: 40, height: 40 }
                },
                // Level 4
                {
                    platforms: [
                        { x: 0, y: 550, width: 120, height: 50, color: '#4a5568' },
                        { x: 680, y: 550, width: 120, height: 50, color: '#4a5568' },
                        { x: 200, y: 480, width: 90, height: 20, color: '#718096' },
                        { x: 400, y: 410, width: 90, height: 20, color: '#718096' },
                        { x: 600, y: 340, width: 90, height: 20, color: '#718096' },
                        { x: 450, y: 270, width: 90, height: 20, color: '#718096' },
                        { x: 250, y: 200, width: 90, height: 20, color: '#718096' },
                        { x: 100, y: 130, width: 100, height: 20, color: '#718096' },
                    ],
                    playerStart: { x: 50, y: 500 },
                    goal: { x: 120, y: 70, width: 40, height: 40 }
                },
                // Level 5
                {
                    platforms: [
                        { x: 0, y: 550, width: 120, height: 50, color: '#4a5568' },
                        { x: 170, y: 480, width: 90, height: 20, color: '#718096' },
                        { x: 310, y: 420, width: 90, height: 20, color: '#718096' },
                        { x: 450, y: 360, width: 90, height: 20, color: '#718096' },
                        { x: 590, y: 300, width: 90, height: 20, color: '#718096' },
                        { x: 480, y: 240, width: 90, height: 20, color: '#718096' },
                        { x: 340, y: 180, width: 90, height: 20, color: '#718096' },
                        { x: 200, y: 120, width: 100, height: 20, color: '#718096' },
                        { x: 350, y: 80, width: 120, height: 20, color: '#718096' },
                    ],
                    playerStart: { x: 40, y: 500 },
                    goal: { x: 390, y: 20, width: 40, height: 40 }
                },
                // Level 6
                {
                    platforms: [
                        { x: 0, y: 550, width: 800, height: 50, color: '#4a5568' },
                        { x: 100, y: 470, width: 100, height: 15, color: '#718096' },
                        { x: 250, y: 470, width: 100, height: 15, color: '#718096' },
                        { x: 400, y: 470, width: 100, height: 15, color: '#718096' },
                        { x: 550, y: 470, width: 100, height: 15, color: '#718096' },
                        { x: 175, y: 390, width: 80, height: 15, color: '#718096' },
                        { x: 475, y: 390, width: 80, height: 15, color: '#718096' },
                        { x: 325, y: 310, width: 80, height: 15, color: '#718096' },
                        { x: 200, y: 230, width: 100, height: 15, color: '#718096' },
                        { x: 400, y: 230, width: 100, height: 15, color: '#718096' },
                        { x: 300, y: 150, width: 120, height: 15, color: '#718096' },
                    ],
                    playerStart: { x: 40, y: 500 },
                    goal: { x: 340, y: 90, width: 40, height: 40 }
                },
                // Level 7
                {
                    platforms: [
                        { x: 0, y: 550, width: 100, height: 50, color: '#4a5568' },
                        { x: 700, y: 550, width: 100, height: 50, color: '#4a5568' },
                        { x: 150, y: 480, width: 60, height: 15, color: '#718096' },
                        { x: 280, y: 420, width: 60, height: 15, color: '#718096' },
                        { x: 420, y: 360, width: 60, height: 15, color: '#718096' },
                        { x: 560, y: 300, width: 60, height: 15, color: '#718096' },
                        { x: 680, y: 240, width: 60, height: 15, color: '#718096' },
                        { x: 580, y: 180, width: 60, height: 15, color: '#718096' },
                        { x: 450, y: 120, width: 70, height: 15, color: '#718096' },
                    ],
                    playerStart: { x: 40, y: 500 },
                    goal: { x: 470, y: 60, width: 40, height: 40 }
                },
                // Level 8
                {
                    platforms: [
                        { x: 0, y: 550, width: 80, height: 50, color: '#4a5568' },
                        { x: 130, y: 490, width: 60, height: 15, color: '#718096' },
                        { x: 240, y: 430, width: 50, height: 15, color: '#718096' },
                        { x: 340, y: 370, width: 60, height: 15, color: '#718096' },
                        { x: 450, y: 310, width: 50, height: 15, color: '#718096' },
                        { x: 350, y: 250, width: 60, height: 15, color: '#718096' },
                        { x: 220, y: 190, width: 70, height: 15, color: '#718096' },
                        { x: 100, y: 130, width: 60, height: 15, color: '#718096' },
                        { x: 600, y: 450, width: 70, height: 15, color: '#718096' },
                        { x: 700, y: 380, width: 80, height: 15, color: '#718096' },
                        { x: 600, y: 310, width: 60, height: 15, color: '#718096' },
                        { x: 680, y: 240, width: 100, height: 15, color: '#718096' },
                    ],
                    playerStart: { x: 30, y: 500 },
                    goal: { x: 710, y: 180, width: 40, height: 40 }
                },
                // Level 9
                {
                    platforms: [
                        { x: 0, y: 550, width: 90, height: 50, color: '#4a5568' },
                        { x: 710, y: 550, width: 90, height: 50, color: '#4a5568' },
                        { x: 140, y: 490, width: 55, height: 12, color: '#718096' },
                        { x: 250, y: 440, width: 50, height: 12, color: '#718096' },
                        { x: 360, y: 390, width: 55, height: 12, color: '#718096' },
                        { x: 470, y: 340, width: 50, height: 12, color: '#718096' },
                        { x: 580, y: 290, width: 55, height: 12, color: '#718096' },
                        { x: 480, y: 240, width: 50, height: 12, color: '#718096' },
                        { x: 370, y: 190, width: 55, height: 12, color: '#718096' },
                        { x: 260, y: 140, width: 50, height: 12, color: '#718096' },
                        { x: 150, y: 90, width: 60, height: 12, color: '#718096' },
                    ],
                    playerStart: { x: 30, y: 500 },
                    goal: { x: 160, y: 30, width: 40, height: 40 }
                },
                // Level 10
                {
                    platforms: [
                        { x: 0, y: 550, width: 80, height: 50, color: '#4a5568' },
                        { x: 720, y: 550, width: 80, height: 50, color: '#4a5568' },
                        { x: 130, y: 500, width: 50, height: 12, color: '#718096' },
                        { x: 230, y: 460, width: 45, height: 12, color: '#718096' },
                        { x: 330, y: 420, width: 50, height: 12, color: '#718096' },
                        { x: 430, y: 380, width: 45, height: 12, color: '#718096' },
                        { x: 530, y: 340, width: 50, height: 12, color: '#718096' },
                        { x: 630, y: 300, width: 45, height: 12, color: '#718096' },
                        { x: 540, y: 260, width: 50, height: 12, color: '#718096' },
                        { x: 440, y: 220, width: 45, height: 12, color: '#718096' },
                        { x: 340, y: 180, width: 50, height: 12, color: '#718096' },
                        { x: 240, y: 140, width: 45, height: 12, color: '#718096' },
                        { x: 140, y: 100, width: 50, height: 12, color: '#718096' },
                        { x: 40, y: 60, width: 60, height: 12, color: '#718096' },
                        { x: 650, y: 480, width: 50, height: 12, color: '#718096' },
                        { x: 100, y: 380, width: 45, height: 12, color: '#718096' },
                    ],
                    playerStart: { x: 30, y: 500 },
                    goal: { x: 50, y: 0, width: 40, height: 40 }
                }
            ];
            
            return levels[levelNum - 1] || levels[0];
        }

        // Load level
        function loadLevel(levelNum) {
            const levelData = getLevelData(levelNum);
            platforms = levelData.platforms;
            goal = levelData.goal;
            player.x = levelData.playerStart.x;
            player.y = levelData.playerStart.y;
            player.velocityX = 0;
            player.velocityY = 0;
            player.isJumping = false;
        }

        // Check collision between two rectangles
        function checkCollision(rect1, rect2) {
            return (
                rect1.x < rect2.x + rect2.width &&
                rect1.x + rect1.width > rect2.x &&
                rect1.y < rect2.y + rect2.height &&
                rect1.y + rect1.height > rect2.y
            );
        }

        // Game loop
        function gameLoop() {
            if (gameState !== 'playing') return;
            
            // Handle input
            player.velocityX = 0;
            if (keysPressed.has('arrowleft') || keysPressed.has('a')) {
                player.velocityX = -MOVE_SPEED;
            }
            if (keysPressed.has('arrowright') || keysPressed.has('d')) {
                player.velocityX = MOVE_SPEED;
            }
            if ((keysPressed.has('arrowup') || keysPressed.has('w') || keysPressed.has(' ')) && !player.isJumping) {
                player.velocityY = JUMP_STRENGTH;
                player.isJumping = true;
            }
            
            // Apply gravity
            player.velocityY += GRAVITY;
            
            // Update position
            player.x += player.velocityX;
            player.y += player.velocityY;
            
            // Collision detection with platforms
            platforms.forEach(platform => {
                if (checkCollision(player, platform)) {
                    // Bottom collision (landing on platform)
                    if (player.velocityY > 0 && player.y + player.height - player.velocityY <= platform.y) {
                        player.y = platform.y - player.height;
                        player.velocityY = 0;
                        player.isJumping = false;
                    }
                    // Top collision (hitting head)
                    else if (player.velocityY < 0 && player.y - player.velocityY >= platform.y + platform.height) {
                        player.y = platform.y + platform.height;
                        player.velocityY = 0;
                    }
                    // Side collisions
                    else if (player.velocityX > 0) {
                        player.x = platform.x - player.width;
                    } else if (player.velocityX < 0) {
                        player.x = platform.x + platform.width;
                    }
                }
            });
            
            // Keep player in bounds
            if (player.x < 0) player.x = 0;
            if (player.x + player.width > CANVAS_WIDTH) player.x = CANVAS_WIDTH - player.width;
            
            // Check if player fell off - restart level
            if (player.y > CANVAS_HEIGHT) {
                const levelData = getLevelData(level);
                player.x = levelData.playerStart.x;
                player.y = levelData.playerStart.y;
                player.velocityX = 0;
                player.velocityY = 0;
                player.isJumping = false;
            }
            
            // Check if player reached goal
            if (checkCollision(player, goal)) {
                if (level < 10) {
                    level++;
                    loadLevel(level);
                } else {
                    gameState = 'won';
                    wonScreen.classList.remove('hidden');
                }
            }
            
            // Clear canvas
            ctx.fillStyle = '#1a202c';
            ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
            
            // Draw platforms
            platforms.forEach(platform => {
                ctx.fillStyle = platform.color;
                ctx.fillRect(platform.x, platform.y, platform.width, platform.height);
            });
            
            // Draw goal
            ctx.fillStyle = '#fbbf24';
            ctx.fillRect(goal.x, goal.y, goal.width, goal.height);
            ctx.strokeStyle = '#f59e0b';
            ctx.lineWidth = 3;
            ctx.strokeRect(goal.x, goal.y, goal.width, goal.height);
            
            // Draw player
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.width, player.height);
            
            // Draw level info
            ctx.fillStyle = '#ffffff';
            ctx.font = '20px sans-serif';
            ctx.fillText(`Level ${level}`, 20, 30);
            
            animationFrameId = requestAnimationFrame(gameLoop);
        }

        // Restart game
        function restartGame() {
            level = 1;
            gameState = 'playing';
            wonScreen.classList.add('hidden');
            loadLevel(level);
            gameLoop();
        }

        // Event listeners
        window.addEventListener('keydown', (e) => {
            keysPressed.add(e.key.toLowerCase());
        });

        window.addEventListener('keyup', (e) => {
            keysPressed.delete(e.key.toLowerCase());
        });

        playAgainBtn.addEventListener('click', restartGame);

        // Initialize game
        loadLevel(level);
        gameLoop();
    </script>
</body>
</html>
